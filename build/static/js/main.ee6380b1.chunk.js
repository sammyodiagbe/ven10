(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),l=a.n(r),i=(a(39),a(9)),o=a(10),d=a(14),s=a(11),u=a(13),m=a(12),p=a.n(m),h=a(7);function v(){return c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"spinner1"})))}var g="https://ven10-assesment.herokuapp.com/",E="".concat(g,"products"),f="".concat(g,"add-new-product"),b="".concat(g,"/get-product/"),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).state={loadingProducts:!0,products:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get(E).then((function(t){var a=t.data.products;console.log(a),e.setState({products:a,loadingProducts:!1})})).catch((function(t){e.setState({loadingProducts:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.products,a=e.loadingProducts,n=t.length?t.map((function(e,t){var a=e._id,n=e.name,r=e.image,l=(e.price,e.description);return c.a.createElement(h.b,{to:"/product/".concat(a),key:t,className:"product"},c.a.createElement("img",{src:r,alt:""}),c.a.createElement("div",{className:"bottom"},c.a.createElement("h1",null,n),c.a.createElement("p",null,l)))})):c.a.createElement("h1",null,"No products");return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(v,null),c.a.createElement("div",{className:"home"},c.a.createElement("h2",null,"Products"),c.a.createElement("div",{className:"products"},n)))}}]),t}(n.Component),y=a(6),C=a(33),P=a(15),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).state={name:"",description:"",price:1,category:"",image:null,color:"",isAddingProduct:!1},a.addNewProduct=a.addNewProduct.bind(Object(P.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(P.a)(a)),a.handleFileInputChange=a.handleFileInputChange.bind(Object(P.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"addNewProduct",value:function(e){var t=this;e.preventDefault(),this.setState({isAddingProduct:!0});var a=this.state,n=a.name,c=a.description,r=a.price,l=a.category,i=a.image,o=a.color,d=new FormData;d.append("name",n),d.append("description",c),d.append("price",r),d.append("category",l),d.append("image",i),d.append("color",o),p.a.post(f,d).then((function(e){var a=e.data.product;t.setState({isAddingProduct:!1}),t.props.history.push("/product/".concat(a._id))})).catch((function(e){t.setState({isAddingProduct:!1})}))}},{key:"handleFileInputChange",value:function(e){var t=this,a=e.target.files[0];if(a){var n=new FileReader;n.addEventListener("load",(function(e){t.imageRef.style.display="block",t.imageRef.src=e.target.result})),n.readAsDataURL(a),this.setState({image:a},(function(){}))}else this.imageRef.style.display="none"}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState(Object(C.a)({},a,n))}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.description,r=t.category,l=t.price,i=t.color,o=t.isAddingProduct;return c.a.createElement("div",{className:"add-product"},c.a.createElement("h2",null,"Add new Product"),c.a.createElement("div",{className:"layout"},c.a.createElement("form",{onSubmit:this.addNewProduct},c.a.createElement("div",{className:"form-left"},c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",value:a,id:"name",onChange:this.handleInputChange,placeholder:"Product name",required:!0})),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"number",min:1,value:l,id:"price",onChange:this.handleInputChange,placeholder:"Product price",required:!0})),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",value:r,id:"category",onChange:this.handleInputChange,placeholder:"Product category",required:!0})),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",value:i,id:"color",onChange:this.handleInputChange,placeholder:"product color",required:!0})),c.a.createElement("div",{className:"input-field"},c.a.createElement("textarea",{id:"description",value:n,onChange:this.handleInputChange,placeholder:"Description",required:!0}))),c.a.createElement("div",{className:"file-field"},c.a.createElement("div",{className:"temp-img"},c.a.createElement("img",{src:"",alt:"",ref:function(t){return e.imageRef=t},className:"preview-image"})),c.a.createElement("input",{type:"file",formEncType:"multipart/form-data",onChange:this.handleFileInputChange,required:!0}),c.a.createElement("button",{type:"submit",disabled:o},o?"please hold on":"Add Product")))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).state={product:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.product_id;p.a.get("".concat(b).concat(t)).then((function(t){var a=t.data.product;e.setState({product:a})}))}},{key:"render",value:function(){var e=this.state.product;return c.a.createElement("div",{className:"view-product"},e?c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"left"},c.a.createElement("img",{src:e.image,alt:""})),c.a.createElement("div",{className:"right"},c.a.createElement("h2",{className:"name"},e.name),c.a.createElement("p",{className:"description"},e.description),c.a.createElement("div",{className:"color",style:{background:e.color?e.color:"#fff"}}),c.a.createElement("h1",{className:"price"},"$",e.price))):c.a.createElement("h1",null,"Product does not exist"))}}]),t}(n.Component);function w(){return c.a.createElement("div",{className:"navigation"},c.a.createElement(h.b,{to:"/",className:"title"},"Ven10"),c.a.createElement(h.b,{to:"/add-new-product",className:"add-product"},"Add new Product"))}var k=function(){return c.a.createElement(h.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(w,null),c.a.createElement(y.c,null,c.a.createElement(y.a,{exact:!0,path:"/",component:N}),c.a.createElement(y.a,{exact:!0,path:"/add-new-product",component:j}),c.a.createElement(y.a,{exact:!0,path:"/product/:product_id",component:O}))))};a(62);l.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.ee6380b1.chunk.js.map